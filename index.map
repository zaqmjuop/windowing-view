{"version":3,"sources":["supportIframeHeight.js","drager.js","store.js","../../node_modules/is-url/index.js","tool.js","embedded.js","index.js"],"names":["resetIframeHeight","iframes","$","each","index","element","height","attr","perHeight","match","per","parseInt","cssHeight","parent","css","supportIframeHeight","window","onresize","getMouseButton","event","MouseEvent","isIE","navigator","appName","button","dragCardHeader","card","cardHeaderDrager","find","cardHeader","cardBody","top","offsetTop","clientY","display","cursor","bindCardHeaderDrager","cards","curtain","addClass","dragHandler","on","stopPropagation","preventDefault","document","insertBefore","off","remove","dragCardLeft","cardLeftDrager","col","parents","container","brothers","children","totalGrow","item","Number","left","offsetLeft","width","clientWidth","total","offsetWidth","grow","x","clientX","goalWidth","goalPer","goalGrow","bindCardLeftDrager","bindDrager","indexedDB","mozIndexedDB","webkitIndexedDB","msIndexedDB","IDBTransaction","webkitIDBTransaction","msIDBTransaction","IDBKeyRange","webkitIDBKeyRange","msIDBKeyRange","dbname","Store","keyPath","keyHash","Object","DBOpenRequest","openDB","onerror","console","log","onupgradeneeded","db","target","result","objectStore","createObjectStore","autoIncrement","assign","date","id","keys","forEach","key","createIndex","unique","onsuccess","add","option","value","Date","transaction","request","error","put","get","delete","getAll","upperBound","max","range","openCursor","continue","name","version","open","visiteds","url","saveVisited","isAliveElement","nodeType","isEnterKey","keyCode","validateURL","Error","undefined","formatURL","hasPrefix","format","initIframe","iframe","tagName","includes","html","removeClass","newPage","loadingIcon","loading","append","page","holder","embeddedSumit","submit","embedded","entrance","inputGroup","input","val","padding","bindEmbeddedSubmits","hasClass","submits","bindEmbeddedInput","click","urls","Array","datalist","bindEmbeddedInputs","inputs","bindEmbeddeds","ready","querySelector"],"mappings":";;;;;;AAAA,IAAMA,oBAAoB,SAApBA,iBAAoB,GAAM;AGAhC,AHCE,MAAMC,UAAUC,EAAE,QAAF,CAAhB;AGAF,AHCE,MAAI,CAACD,OAAL,EAAc,OAAO,KAAP;AGAhB,AFFA,ADGEA,UAAQE,IAAR,CAAa,UAACC,KAAD,EAAQC,OAAR,EAAoB;AGAnC,AHCI,QAAMC,SAASJ,EAAEG,OAAF,EAAWE,IAAX,CAAgB,QAAhB,KAA6B,EAA5C;AGAJ,AFFA,ADGI,ICHEW,IDGIV,YAAYF,CCHC,MDGMG,GCHvBS,EDGgB,CAAa,OAAb,CAAlB,GCHmB,CAACC,KAAD,EAAW;AEGlC,AFFE,ADGE,MCHE,CAACA,CDGC,CAACX,GCHH,IAAWW,EDGb,EAAgB,aCHcC,UAAhC,EAA6C,OAAO,KAAP;AEG/C,AFFE,ADEoB,MCFdC,OAAQC,UAAUC,OAAV,KAAsB,6BAApC;AEGF,AFFE,ADC6B,MCDzBC,SAAS,OAAb;AEGF,AFFE,ADCE,QAAMd,ECDAS,IDCMR,ECDAa,MAAd,CDCuBhB,SAAT,EAAoB,EAApB,CAAZ;AGEJ,AFFI,ADCA,QAAMI,CCDD,CAAL,UDCkBV,EAAEG,OAAF,EAAWQ,MAAX,GAAoBP,MAApB,MAAgCI,MAAM,GAAtC,CAAlB;AGEJ,AFFMc,ACRN,AFSItB,IETEsE,EFSAnE,OAAF,ECDW,ADCAS,CETGE,EFSd,CAAe,ECDb,ECRmBwD,IFSrB,EAA4B5D,GETd,IAChBI,EFQE,KERKyD,YADS,IAEhBzD,OAAO0D,eAFS,IAGhB1D,OAAO2D,WAHT;ACWA,AFFM,ACLN,AFMG,GAPD,CECIC,iBAAiB5D,OAAO4D,cAAP,IACrB5D,OAAO6D,oBADc,IAErB7D,OAAO8D,gBAFT;ACQA,AFFI,ACHJ,AFIE,IEJIC,KDGG,ADCA9E,CCDL,MDCF,EEJkBe,OAAO+D,WAAP,IAClB/D,OAAOgE,iBADW,IAElBhE,OAAOiE,aAFT;ACMA,AFFMzD,ACDN,AFEC,CAZD,GEUM0D,SAAS,EDCC7D,IAAD,ACDf,GDCwB,MAAT,GAAkB,QAA3B;AEGN,AFFM;AEGN,AFFI,ADCJ,IEHM8D,AFGApE,KCDG,CAAL,gBDCwB,SAAtBA,mBAAsB,GAAM;AGElC,AFFMS,ACFJ,AFGAxB,eCDa,ECFDoF,MDER,CCFJ,EAAqB;ACKvB,AFFM,ACHiB,AFIrBpE,SAAOC,QAAP,GAAkB,YAAM;AGE1B,AFFI,ADCAjB;AGEJ,AFFMwB,ACLiB,AFMpB,GAFD,YCCa,OAAT;AEGN,AFFM,ADCL,CALD;AGOA,AFfE,ACMuB;ACUzB,AFFE,ACPE,QAAI6D,AFQCrF,CCDAwB,MAAP,GCPgB4D,OAAd,GFQKpF;AGET,AFFC,ACPG,CDZJ,OCYQ,AFOoBe,OEPbqE,OAAP,KAAmB,GFOCrE,KEPxB,EAAiC;ACUrC,ADTMsE,gBAAU,EAAED,SAAS,KAAX,EAAV;ACUN,AFFA,ACPK,IDOC3D,iBAAiB,SAAjBA,cAAiB,CAACC,IAAD,EAAU;AEGjC,AFFE,ACPE,MDOE,CAACA,CCPC,EAAE2D,CDOR,EAAW,OAAO,KAAP,ICPgBC,MAArB,CAAJ,EAAkC,OAAO,KAAP;ACUtC,AFFE,ACPE,MDOI3D,GCPC4D,aAAL,GDOuBrF,ACPFiF,EDOIzD,IAAF,ACPI8D,EDOI5D,IAAR,ACPF,CDOe,ACPFsD,MAAb,EAAqB,CAArB,CAArB,MDOuB,EAA+B,CAA/B,CAAzB;AEGF,AFFE,ACPE,MDOIrD,GCPC0D,UDOYrF,EAAEwB,CCPnB,CAAmB+D,EDOF,EAAQ7D,GCPzB,CDOiB,CAAa,CCPD,YAAM,CDOlB,EAA6B,CAA7B,CAAnB;AEGF,AFFE,ACPI8D,MDOE5D,QCPM6D,GDOKzF,ACPb,CAAY,CDOGwB,IAAF,EAAQE,IAAR,CAAa,ICP1B,QDOa,EAA2B,CAA3B,CAAjB;AEGF,AFFE,ACPG,KAFD,CDSE,CAACD,gBAAD,IAAqB,CAACE,UAAtB,IAAoC,CAACC,QAAzC,EAAmD,OAAO,KAAP;AEGrD,AFFE,ACPE,MDOIC,GCPCwD,GDOK1D,UCPV,CDOqBG,ACPF4D,SDOrB,MCPE,GAAqC,UAACzE,KAAD,EAAW;ACUpD,AFFE,ACPIuE,SDOG,KCPKC,GAAR,CAAY,CDORxE,KAAD,EAAW,ICPd;ACUN,AFFI,ACPE,QDOEb,ICPGuF,EAAL,GDOW1E,ACPDA,MDOOc,ACPD6D,MAAN,CDOC,ACPYC,GDOIhE,GAA7B,ACPE;ACUN,AFFI,ACPE,QDOEzB,ECPI0F,ODOK,EAAb,EAAiB,GCPK,MAAKH,EAAL,CAAQI,iBAAR,CAA0Bf,MAA1B,EAAkC,EAAEE,SAAS,IAAX,EAAiBc,eAAe,IAAhC,EAAlC,CAApB;ACUN,AFFM5F,ACPA+E,eDOS,CAAT,ACPUC,OAAOa,MAAP,CAAcd,OAAd,EAAuB,EAAEe,MAAM,KAAR,EAAeC,IAAI,IAAnB,EAAvB,CAAV;ACUN,AFFMnG,ACPA,QDOE2B,ECPIyE,OAAOhB,CDOb,EAAcxE,GAAd,CAAkB,ACPEwF,EDOApE,ECPP,CAAYmD,MDOI,CCPhB,CAAb,IDOkB,EAAlB;AEGN,AFFK,ACPCK,KDIF,MAGO,GCPGC,GAAR,CAAYW,IAAZ;ACUN,AFFMpG,ACPAoG,QDOEzE,GCPG0E,ODOL,ACPA,CAAa,CDOCzF,GAAd,CAAkB,EAAEoB,GCPNsE,GAAD,EAAS,CDOO,EAAX,EAAlB;AEGN,AFFK,ACPGR,oBAAYS,WAAZ,CAAwBD,GAAxB,EAA6BA,GAA7B,EAAkC,EAAEE,QAAQrB,QAAQmB,GAAR,CAAV,EAAlC;ACUR,AFFItG,ACPG,MDOD,CCTA,KDSF,EAAUY,GAAV,CAAc,EAAEqB,QAAQ,UAAV,EAAd;AEGJ,AFFIjC,ACPE,MDOA2B,MCPKgE,EAAL,CAAQJ,CDOV,EAAc3E,GAAd,CAAkB,ACPhB,EDOkBR,CCPA,ODOWA,KCPL,CDON,OAAF,EAAlB;AEGJ,AFFI,ACPIoF,WDOGhE,IAAP,CCPYiE,GAAR,CAAY,SAAZ;ACUR,AFFG,ACPI,GDJL,ICEI;ACYN,AFFC,ACPI,CDZL,ICDI;ACuBJ,ADTI,SAAKJ,aAAL,CAAmBoB,SAAnB,GAA+B,YAAM;ACUzC,AFDA,ACRM,IDQAvE,QCRKyD,EAAL,GAAU,MAAKN,IDQQ,SAAvBnD,ACRU,CAAmB2D,MAA7B,aDQuB,GAAM;AEEnC,AFDE,ACRI,MDQE1D,MCRGuE,EDQK1G,CCRV,CDQY,ECRD,KDQD,CAAd,ICRgB2G,MAAD,EAAY;ADS3B,ACRM,MDQF,CAACxE,KAAL,ACRU,EDQE,MCRKwE,CDQE,KAAP,ACRF,yCAAOA,MAAP,OAAkB,QAAtB,EAAgC,OAAO,KAAP;ADStC,ACRM,MDQAvE,MCRMwE,IDQI5G,EAAE,ECRE,EAAEkG,GDQN,EAAW7D,CCRC,IAAIwE,GDQhB,CAAoB,ACRR,EAAR,EAAd,KDQU,CAAhB;AACA7G,ACRMoF,IDQJjD,KAAF,EAASlC,IAAT,ACRagG,CDQC,KCRR,CAAcW,IDQL1G,CCRT,EAAqByG,EDQb,EAAQnF,ECRhB,EDQQ,EAAiB;AAC7B,ACRI,QDQEC,ICRIqE,cAAc,CDQC9F,EAAEwB,GCREmE,CDQJ,CCRD,CDQSjE,ACRDoF,IDQP,CAAa,MCRd,CAAoB9B,MAApB,EAA4B,CDQ3B,EAA+B,CAA/B,CAAzB,MCRwB,EAAyCc,WAAzC,CAAqDd,MAArD,CAApB;ADSJ,ACRI,QDQA,CAACvD,GCRKsF,UAAUjB,GDQpB,EAAuB,OCRSY,GAAZ,CAAgBE,KAAhB,CAAhB;ADSJ,AKpDJ,AJ4CQG,QDQEzE,QCRMmE,MDQQlF,GCRhB,GAAoB,SDQWC,GCRL,CDQV,CAApB;AACAxB,ACRMwF,MDQJ/D,YCRYgE,GAAR,CDQN,ACRkB,EDQElD,EAApB,CAAuB,GCRjB,QDQN,EAAoC,UAACtB,KAAD,EAAW;AAC7CA,AKpDN,AJ4CUuE,YDQEhD,MCRMiD,GAAR,CAAYsB,KDQhB,GCRwBlB,MAApB;ADSJ5E,ACRG,AE/CT,SF4CQ,GDWIwB,cAAN;AACA,AIxDN,ACGA,AJ6CQsE,UDQE/F,MCRMuE,OAAR,EDQiBtE,CCRC,IDQhB,MAA0B,ACRTA,KAAD,CDQpB,CCR+B,CDQO;AACpCjB,ACREwF,UDQA9C,QAAF,ACRUsE,EDQEzE,EAAZ,CAAe,ACRb,CAActB,MAAM2E,IDQtB,EAA4BtD,ACRZ,CAAa0E,KAA3B,KDQF;AACD,AIzDP,AHiDS,SAFD;ADWFhH,ACRE,QDQAoC,OAAF,ACRS0D,EDQEnD,SCRT,GDQF,CAAwB,MAAxB;AACD,AI1DL,ACEA,AJgDO,KDCH,ECfE;ADuBF3C,ACRE,AEnDN,IAAMgI,EH2DAtF,MCRKuE,EDQP,CCRE,CDQU1E,EAAZ,ACRa,CDQE,EG3DI,OH2DnB,ACRcoE,EDQY,AG3DxBqB,IFmDW,EAAY,MDQO,EG3Db;AH4DjBhI,AI1DN,AHkDQ,AEpDe,ICEjB0I,IJ0DE,CG5D2BvI,GFoDvB,EDQN,EAAUS,CI1DG,EJ0Db,CAAc,ACRD+F,AEpD2BxG,EH4DxB8B,II1DhByG,AHkDM,EEpD0CT,EH4DxB,MI1DX,ADF2B,CCE1BU,EJ0DA,EAAd,AG5D6D,CAAhC,CCEhB,EAAY,CDFyC3I,EAAEG,OAAF,EAAWQ,MAAX,CAAkB,GFoDvEgG,GEpDqD,CAAjD,EFoDX,OAAkB,QAAtB,EAAgC,OAAO,KAAP;ADSlC3G,AI1DJ,AHkDM,AErDe,CAAvB,KCGM,CAAC2I,CJ0DCjG,ICRMkE,CGlDR,GJ0DA,CI1DY+B,CJ0DA/F,ECRI,CDQhB,CAAgB,ACREsD,EGlDC0C,IHkDK,GGlDZ,CHkDgB/B,CDQ5B,EAA6BvE,CI1DE,AHkDP,EAAR,EAAd,IGlDN,EJ0DI,AI1D0C,OAAO,KAAP;AJ2D1C,AI1DJ,AHkDM8C,MGlDAzE,SAASX,AHkDFiG,EGlDI0C,IHkDX,CAAc/B,CGlDL,EAAUjG,EHkDnB,EAAqBgG,EGlDZ,GAAmB,CAAnB,AHkDT,CGlDN;AJ2DI3G,AI1DJ,AHkDM,AErDR,IAAMkI,ECGA,CAACvH,CJ0DC,ICRMmF,CGlDZ,EAAa,EDHI,CH6Db,EAAcjD,EI1DE,IJ0DhB,ACRsB,AErDtBqF,CCGS,KHkDkBvC,EAAL,CAAQmB,CErDjB,UFqDS,CAAoB9B,MAApB,EAA4B,WAA5B,EAAyCc,WAAzC,CAAqDd,MAArD,CAApB;ADSH,AI1DH,ACFFhF,AJoDQ,AEtDW,EEEjB0C,GLuDE,CIrDE1C,EAAEW,CDJqBM,CEE7B,EAAYwJ,AJoDE1D,EGlDR,CDJ6BoB,CCInB9H,CCFhB,CAAkB,EDEZ,CAAe,CHkDGyF,AEtDK,KAAkB,CCIzC,CDJa,CCIW+C,ACFN,IJoDY5B,GAAZ,CGlDlB,AHkDkCL,CGlDD,IHkDf,CAAhB,UGlDF,CAAJ,EAAuD;AJ2DtD,AI1DC5G,ACFF,AJoDM+G,AEvDW,CAAnB,EH6CE,GIxCIpG,ACFA,CAAC+B,KDEH,EAAUoG,ECFE4B,AJoDAjE,EGlDZ,CAAekC,MAAf,AHkDI,GAAoB,CIpD1B,EAA6B,OAAO,EJoDJ,GIpDH;AL6D7B,AI1DC,ACFD,AJoDQnD,SDQDrD,KAAP,ICRgBsD,GAAR,CAAY,QAAZ;ADST,AI1DCzF,ACFA,AJoDQwF,AEvDV,CHuCA,GIlCImD,ADLEP,MCKJ,EAAUW,MHkDMtD,AEvDE,GFuDV,CAAYsB,CGlDpB,CAAsB,GDLlBqB,GCKJ,AHkD4BvC,MAApB,EEvDU,CAACiC,GAAD,EAAS;ACM3B,ACFA,AJoDO,AEvDP,MAAI,GFoDE,aEpDN,EAAY,MAAM,IAAIO,KAAJ,CAAU,cAAV,CAAN;AHgEd,AI1DE,ACFA,AJoDMtB,AEvDN,IH+DIjE,KI1DG6F,ACFA,AFHC,IEGR,EDEA,CHkDcpD,GDQK,ICRb,GAAkB,EDQpBzC,EG/DUgF,GAAN,GFuDiB7G,CEvDJ6G,GH+DF,AG/DX,CH+DYtG,ACRI,EAAW,AEvDR8G,EH+DR,EAAU,KG/D7B;AHgEA,AI1DD,ACFA,AJoDS9C,AEvDT,CCLD,ACEA,AFAA,EAGE,GH+DI,CAAChE,IAAL,EAAW,KCRKwF,EDQE,GCRV,CAAc/F,CDQX,KCRiB2E,MAAN,CAAaoB,KAA3B;ADSR,AK5DF,AJoDS,MDQDjE,GCVA,cDUiB/C,EAAEwB,IAAF,EAAQE,IAAR,CAAa,cAAb,EAA6B,CAA7B,CAAvB;AACA,AI1DF,ACFA,AJoDQ,AEvDR,ICKMsH,ADLAT,EH+DE5G,QI1DQ,CHkDDmE,CEvDG,GH+DG9F,EAAEwB,EI1DjBwH,EJ0De,AG/DfT,CFuDE,CDQqB7G,GI1Db,CJ0DK,AI1DJiF,CJ0DiB,EG/DhB,CAACmB,ECKH,CDLE,CCKU,CDLD,MH+DN,EAA6B,CAA7B,CAAnB;AACA,AI1DA,ACFF,AJoDO,AEvDL,MH+DMlG,AI1DAqH,ADLD,CFyCD,AEzCEnB,GAAF,IAAW,GH+DE9H,EAAEwB,CI1DCxB,CDLE8H,CCKA,CJ0DL,CG/DF,CH+DUpG,EI1DL,EJ0DH,AI1DYW,ADLC,CH+DA,OI1DV,ADLpB,CCKsC,CDLG,GH+DxB,EAA2B,CAA3B,CAAjB,AG/DgD,KAAP,yBCKrB,CAApB;AJ2DA,AI1DA,ACFF,AJoDM,AEvDJ,MH+DMW,AI1DAkG,ADLAV,MH+DMxI,ACRHkH,EDQK1F,CCRV,CGlDYxB,EJ0DJ,AI1DM,AHkDH,AEvDG8H,EH+DE7E,EG/DE1C,GCKN,EJ0DJ,AI1De8B,ADLT,CH+DU,ACRZiE,AEvDY,GFuDb,EAAS,CDQZ,CI1DI,CJ0DoB,AI1DA,CJ0DxB,CAAZ,QG/DkB,CAAlB,MCKgB,EAAuC6C,MAAvC,CAA8CF,WAA9C,CAAhB,CAF0B,CAEkD;AJ2D5E,AI1DA,ACFF,AJoDQ,AEvDN,MH+DM/F,AI1DAkG,ADLAX,MFuDM3C,CGlDC9F,EAAE,ADLCwI,GH+DExI,EAAEgD,GAAF,CG/DH,CH+DUrC,AI1DZ,CHkDa,CGjDvBN,ADN0ByH,GAAd,CH+DG,AI1DL,CACL,AHiDuBnC,EDQG,ACRR,CDQR,ACRgBmB,CDQlC,CI1Da,EACGH,MDN8BmB,CCMvBA,AHiDG,CAAoB9C,CEvD9C,CCMgB,IAAc,AHiDJ,EGlDb,AHkDyC,EGhDnD3E,IAFU,CAEL,IHgDkB,EAAyCyF,CGlDtD,EAEI,MAFJ,EAGVzF,AH+CuB,CAAqD2E,GGlDlE,CAGL,EH+CkB,CAApB,KGlDO,EAGK,MAHL,EAIV3C,QAJU,CAID,MAJC,EAKVA,QALU,CAKD,MALC,CAAb;AJ2DA,AIrDA,AH6CM,AEvDN,MH+DMc,AIrDAkG,GDVCZ,GFuDK1B,GG7CG/G,ADVf,EH+DiBA,AIrDA,EJqDEkD,GCRG4C,EG7CP,EAAWzD,EJqDT,EAAae,IIrDf,AH6CmB8D,CG7CC,EH6Cb,CDQL,ACRqBZ,EDQtC,CCRsB,CAAhB,QG7CS,CAAf;AJsDA,ACRMS,AEvDP,CALD,KHoEM,CAAChE,SCRS0D,KDQV,IAAmB,ACRjB,CDQkB9E,ECRE,QDQtB,IAAkC,ACRN,CDQOC,QAAnC,IAA+C,CAACoB,GAAhD,IAAuD,CAACE,SAA5D,EAAuE,OAAO,KAAP;AACvE,AIrDAmG,AH6CQ7D,SDQD,AIrDA2D,MAAP,CAAcD,EH6CEzD,CDQRxE,ECRA,CAAY,CG7CpB,CJqDO,CIrDgBkI,CJqDL,ICRV,CG7CR,CAA8BC,IAA9B;AJsDE,AIrDFpJ,AH6CQwF,IG7CN4D,IJqDI/F,AIrDN,ADVO2E,ECUCzF,EAAR,CAAW,KH6CKkD,CG7ChB,CJqDkB,CAAhB,AIrDiB,AH6CX,CAAYsB,GEvDbiB,KFuDqBnC,GG7CH,GH6CjB;ADSN1C,AItDyBuF,AH8CpB,QExDgBR,CFqDjB,IDWKjI,EItD2BmJ,EJsDpC,CAAc,EItD2B,CAAL,ADVflB,CCUI,MJsDVhI,KAAD,EAAQoD,IAAR,EAAiB;AAC7BD,AIvD6C,AH+C3C0D,GG/CN,KDVmCqB,QFyDrB7C,GDQGhC,GGjEkB6E,CFyD7B,GDQkBpI,ACRA,EDQEsD,IAAF,EAAQ1C,ECRPK,CDQD,CAAY,GCRZ,EAAW,MDQX,CAAP,CAAb;AACD,ACRKuE,KDMN,GGhE8C+C,UF0DhCvB,EE1DgCuB,GF0DxC,CAActH,MAAM2E,MAAN,CAAaoB,KAA3B;ADSN,AIvDF,AH+CO,QDQCxD,CIvDD6F,AH6CD,MDUSrG,AIvDf,IJuDmBS,UAAjB;AACA,AIvDH,AH+CO,CG9DR,OJsEUC,OCRKoC,CDQG9C,IAAIW,MCRd,KDQJ;AACA,ACRG,OAXD,CDmBIC,QAAQV,UAAUW,WAAxB;AACA,AIvDJ,AH+CM,IG/CAyF,IJuDI9I,ICRC2G,EDQKzD,ICRV,EG/CgB,CH+CF,CDQIE,KAApB,EIvDE0F,EH+CehD,GAAD,EAAS,MG/CP,CAACiD,MAAD,EAAY;AJwD9B,AIvDF,AH+CM,MG/CF,CAACA,CJuDGzF,ICRIgC,CG/CR,EJuDW9F,EAAEgD,AIvDDhD,EAAEuJ,CJuDH,EAAO3I,GAAP,AIvDC,CJuDU,ACRA,CG/CAP,IAAV,CAAe,AH+CAsF,EAAL,CAAQmB,EDQnB,CAAb,AIvDc,MAA2B,EH+CjB,CAAoB9B,KG/C9C,CH+C0B,CG/C4B,CH+CA,MG/CO,KAAP,AH+C5B,EAAyCc,WAAzC,CAAqDd,MAArD,CAApB;ADSJ,AIvDF,AH+CM,MG/CAwE,EJuDEzF,IAAI9C,ACRA8F,KG/CK/G,CJuDCgE,CIvDCuF,GH+CGzD,GDQV,AIvDK,EAAU7C,CJuDCC,MIvDX,AH+CiBiE,CG/CC,GJuDG1D,ECRhB,CAAmB6C,GAAnB,CAAhB,GDQJ,MIvDe,EAAuC,CAAvC,CAAjB;AJwDE,AIvDF,AH+CMS,MG/CF,CAACyC,CJuDGvF,OIvDR,CH+CcwC,CG/CC,GJuDMjD,IIvDC,CH+ChB,EDQsBE,CCRF,CG/CX,GJuDK,GAAiBK,CAAnC,ICR8B;ADS9B,AIvDF,AH+CQyB,MG/CFiE,EJuDEvF,SIvDSlE,CJuDCiE,ACRFwB,CG/CG+D,EH+CX,CAAY,KG/CH,EAAY9H,CJuDCkC,ACRtB,GG/CS,CAAiB,CJuDhC,UIvDe,EAA8B,CAA9B,CAAjB;AJwDE,AIvDF,AH+CQ4B,MG/CJ,CAACiE,CJuDGtF,OIvDR,EAAe,CH+CCsB,CDQIvB,ECRZ,CAAY6C,EG/CE,KJuDQvG,AIvDf,CH+CaqF,EDQT,GAAkB/B,CCR7B,GDQN;AACA9D,AIvDF,AH+CO,MDQHgD,AIvDE0G,GJuDJ,ACXI,EDWG9I,GAAP,CAAW,IIvDMZ,EAAEuJ,KJuDnB,CIvDiB,CJuDOpF,CIvDGlB,OJuD3B,AIvDiB,CAAkB,cAAlB,EAAkC,CAAlC,CAAnB;AJwDEjD,AIvDF,AH+CM+G,MDQF,AIvDA,CAAC2C,KJuDH,EAAU9I,ECRE2E,CDQZ,AIvDF,CJuDgB,CIvDC,CJuDCtD,GCRZ,GG/CkB,AH+CA,EDQE,GIvDT,KH+CQhB,EDQT,EAAd,CCRsB,EAAW;ADSjC,AIvDF,AH+CQuE,MG/CFmE,KJuDGnI,GIvDKxB,CJuDZ,CIvDc0J,EH+CA1C,KAAR,CAAc/F,EG/CR,EAAcS,EH+CAkE,EG/Cd,CAAmB,GH+CX,CAAaoB,KAA3B,SG/CM,EAAuC,CAAvC,CAAd;AJwDC,AIvDD,AH+CO,GDTP,GItCI,CAAC2C,EH6CC,GG7CN,EAAY,OAAO,KAAP;AJwDb,AIvDC,AH+CM,CDnBR,KI5BQC,MAAM5J,EAAE2J,CH+CD7D,IG/CD,EAAS8D,GAAT,EAAZ,AH+CM;AG9CN,AH+CK,MG/CC9B,CHoCF,KGpCQ,uBAAY,qBAAU8B,GAAV,CAAZ,8CAAsEA,GAAlF;AJwDF,AIvDE,AH+CI,IDQAxF,EIvDEgF,MH+CGhC,CG/CI4B,KH+CT,GG/CiB,AH+CH,EG/CKlB,EJuDE,MIvDJ,EAAR,AH+CW,CDQpB1D,AIvDJ,kBJuDyB,GAAM;AAC/B,AIvDA,AH+CM,MDQAjC,MCRM2D,EDQE9F,EAAE,EIvDP+H,KJuDK,CAAd,ECR0B,GG/C1B,CAAqBD,EH+CUnC,CG/C/B,CH+C0B,CAAQmB,WAAR,CAAoB9B,MAApB,EAA4B,WAA5B,EAAyCc,WAAzC,CAAqDd,MAArD,CAApB;ADSN,AIvDAhF,AH+CM,IG/CJyJ,EJuDE,CAACtH,KAAL,AIvDA,AH+CY4E,EDQA,AIvDA+B,IAAZ,CAAiB,EJuDE,AIvDnB,CH+CsBhD,CG/CDlF,GJuDT,AIvDZ,CAAyB,EAAEiJ,KH+COzC,IG/CE,EH+Cd,EAAhB,CG/CmB,EAAzB,EAA6C+B,MAA7C,CAAoDC,IAApD;AJwDA,AIvDA,AH+CMrC,MDQA3E,GIvDCmH,MAAP,CJuDgBvJ,ACRFyG,EDQI,OAAF,ACRV,EDQqBpE,CCRD,ODQV,CAAoB,ICRJ,KDQhB,CAAhB;AACArC,AIvDD,AH+CSwF,CG/DV,GJuEIrD,KAAF,EAASlC,IAAT,CAAc,ECREwF,GAAR,CAAYsB,IDQL7G,ICRa2F,CDQd,EAAQrE,GCRd,CDQM,EAAiB;AAC7B,ACRK,QDQCuB,CCVF,gBDUmB/C,EAAEwB,IAAF,EAAQE,IAAR,CAAa,cAAb,EAA6B,CAA7B,CAAvB;AACA,AIvDJ,AH+CQqF,IG/CF+C,IJuDE,CAAC/G,OCROwC,ODQZ,ACRI,EDQiB,CIvDG,AH+CF,SG/CpBuE,CH+CqB7I,KAAD,EAAW,WG/CT,CAACuI,QAAD,EAAc;AJwDtC,AIvDF,AH+CQhE,MG/CJ,EJuDIlD,AIvDFkH,UH+CUxC,EG/CEhH,EJuDI8C,AIvDF0G,CH+CZ,CAAcvI,MG/CJ,AH+CU2E,EG/CEmE,GJuDKvI,CCRb,CAAawF,EDQb,CAApB,AIvDgB,CAAqB,CH+C/B,iBG/CU,CAAd,CAAJ,EAA6D,OAAO,KAAP;AJwD3DhH,AIvDF,AH+CO,MDQH+C,AIvDEiH,GH6CA,OG7CUhK,EAAEwJ,EJuDhB,EAAkBjH,EAAlB,CAAqB,CIvDP,EAAYb,IAAZ,CAAiB,GJuD/B,EAAkC,UAACT,KAAD,CIvDpB,CJuD+B,AIvD/C;AJwDIA,AIvDJ,AH+CM,MG/CF,CAAC+I,KJuDKxH,EIvDV,CH+CauE,CG/CC,MH+CR,CG/Ce,IJuDjB,CIvDU,CAH0B,CAGZ;AJwDxB9F,AIvDJ+I,AH+CK,OAVD,GGrCI/J,EJuDEwC,EIvDV,CAAa,UAACvC,CJuDV,IIvDS,EAAQoD,IAAR,EAAiB;AJwD1B,AIvDFtD,AH+CE,MG/CAsD,IJuDItC,AIvDN,EAAQuB,AH+CD8E,EG/CP,CAAW,OAAX,AH+CE,EG/CkB,CJuDCpG,ACRD,KDQd,KCReqG,CDQW,AIvDN,EH+CN,EAAS,EDQ3B,EAAsC;AACpCtH,AIxDwBsJ,AHgDxB,UDQE5G,ECRE,CAAC4E,GAAL,EDQA,ACRU,EDQE/E,AIxD0Be,EJwDtC,CAAe,CIxDS,CHgDP,KAAP,IDQV,EAA4BhB,WAA5B;AACD,AIzD+C,AHiD9C,KGjDJ,OHiDUiF,QAAQ1C,YAAYwC,UAAZ,CAAuBC,GAAvB,CAAd;ADSFtH,AIzDH,AHiDK,GGnDN,KJ2DMoC,ICRMlC,GDQR,EAAWyC,GCRK,MAAKgD,EAAL,CDQhB,ACRwBmB,CDQA,MAAxB,ICRgB,CAAoB9B,MAApB,EAA4Bc,WAA5B,CAAwCd,MAAxC,EAAgD9E,KAAhD,CAAsD,IAAtD,EAA4DsH,UAA5D,CAAuED,KAAvE,CAAd;ADSH,AIzDH,AHiDMrH,KDCJ,IIlDKsJ,KHiDK/C,GGjDZ,MHiDM,GAAkB,UAACxF,KAAD,EAAW;ADSjCjB,AIzDH,AHiDS,CGzDV,KJiEM0C,QAAF,ACRYT,EDQAM,EAAZ,CAAe,ICRMtB,KDQrB,CCR2B2E,CDQD,KCRL,CAAaC,MDQF,ACR1B;ADSJ7F,ACRI,QDQF,MAAF,ACRQiC,EDQErB,GAAV,CAAc,ACRV,EDQYqB,ACRA,QDQQ,SAAV,EAAd;AACAjC,AIzDN,AHiDYwF,IGjDNyE,IJyDEvH,QAAF,EAAYE,ECRE6C,CDQd,CAAgB,CCRV,CGjDc,AHiDFxD,OAAO2E,EDQzB,AIzDAqD,EJyD6B3H,CCRvB,UDQN,IIzDoB,CAACqH,KAAD,EAAW;AJ0D/B,AIzDJ,AHiDU1H,MGjDN,CAAC0H,KAAD,IAAW3J,EAAE2J,CHiDAlC,IGjDF,EAASpH,EHiDd,EGjDK,CAAc,MAAd,MAA0B,MAAzC,EAAkD,OAAO,KAAP;AJ0D9CL,AIzDJ,AHiDS,MGjDH0J,EJyDA,UAAF,CIzDe1J,CJyDD6C,CIzDG8G,KJyDjB,AIzDe,EAAShJ,MAAT,CAAgB,cAAhB,EAAgC,CAAhC,CAAnB;AJ0DG,AIzDH,AHiDO,KDGL,CIpDE,CAAC+I,EH2CC,QG3CN,EAAiB,OAAO,KAAP;AJ0DhB,AIzDD,AHiDMxJ,GDVN,GIvCMqJ,QHiDMhE,CGjDGvF,EAAE0J,IHiDX,GAAgB,GGjDP,EAAchI,IAAd,CAAmB,AHiDXT,KAAD,EAAW,cGjDlB,CAAf;AJ0DA,AIzDA,AHgDmCuE,MGhD/B,CAAC+D,EJyDEpH,IIzDP,CJyDA,CIzDa,GHgD8BsD,GAAR,CGhDf,AHgD2BxE,KGhDlC,CHgDwC2E,MAAN,CAAaC,MAAzB;ADUpC,AIzDC7F,AH+CsE,CDdxE,GIjCI2J,KAAF,AH+CM,EG/CGpH,EAAT,CAAY,UAAZ,EAAwB,UAACtB,KAAD,EAAW;AACjC,AH+CI,QG/CA,OH+COsG,KAAP,UG/CWtG,KAAX,CAAJ,EAAuB;AJ0D3B,AI1D6BsI,AHgDtB,IDUDlF,GCvBA,MGnC8B6F,IJ0DjB,CI1DU,QJ0DvB7F,UAAa,GAAM;AACvBnC,AI3D4C,AHiDzC,KAjFD;AD4FFkC,AI3DC,AHiDA,GGnDD;AJ8DD,AI3DCpE,CJwDF,GIxDI2J,KAAF,EAASpH,EAAT,CAAY,OAAZ,EAAqB,YAAM;AACzB,QAAMwE,UAAU,gBAASK,MAAT,EAAhB;AACApH,MAAE+G,OAAF,EAAWxE,EAAX,CJ2DW8B,AI3DG,SAAd,EAAyB,YAAM;AAC7B,UAAM8F,OAAOpD,QAAQlB,EH8CX6B,IG9CV,EH8CgBC,SAAS;AG7CzB,AH8CF,UG9CM,AH8CD,CG9CEwC,IAAD,EH8CMzC,EG9CG,EAAEyC,AH8CZ,KAAgB,QAAjB,GG9C6BC,CH8CE,IG9CpB,CAAb,EAAuC,AH8CCzC,OG9CM,AH8Cb,KG9CM,AH8Ca,QAAtD,EAAiE,OAAO,KAAP;AG7C/D,AH8CF,UG9CQ0C,AH8CJ,CAAC/F,SAAL,CG9CmBtE,CH8CH,CG9CK,MH8CE,CG9CJ,CAAjB,GH8Cc;AG7CdqK,AH8CF,UAAMhF,KG9CKyD,IAAT,CAAc,EAAd,IH8CoBxE,UAAUsD,IAAV,CAAeF,IAAf,EAAqBjH,SAASkH,OAAT,EAAkB,EAAlB,CAArB,CAAtB;AG7CEwC,AH8CF,WG9CO9D,EH8CAhB,KG9CL,CAAa,OH8Cf,GG9CgB/B,IAAD,EAAU;AACrB,AH8CL,YG9CWqD,SAAS3G,EAAE,UAAF,EAAcK,IAAd,CAAmB,OAAnB,EAA4BiD,KAAKwE,GAAjC,CAAf;AACAuC,iBAASlB,MAAT,CAAgBxC,MAAhB;AACD,OAHD;AAIA,aAAOwD,IAAP;AACD,KAVD;AAWD,GAbD;AAcA,AH2CF,IAAMtC,KG3CG8B,KAAP,CH2Ce,IAAI1E,KAAJ,CAAU,EAAE6C,KAAK,IAAP,EAAV,CAAjB;AG1CC,AH2CDD,CGnEA,QHmESE,WAAT,GAAuB,UAACD,GAAD,EAAS;AAC9B,MAAI,CAACA,GAAD,IAAS,OAAOA,GAAP,KAAe,QAA5B,EAAuC,OAAO,KAAP;AG1CzC,AH2CE,IG3CIwC,KH2CGzC,SAASnB,GAAT,CAAa,EAAEoB,CG3CG,OH2CL,EG3ChBwC,AH2CG,CAAP,iBG3CyB,CAACd,QAAD,EAAc;AACvC,AH2CD,CAHD,KGxCM,EAAEA,YAAYxJ,EAAEwJ,QAAF,EAAYO,QAAZ,CAAqB,kBAArB,CAAd,CAAJ,EAA6D,OAAO,KAAP;AAC7D,MAAMQ,SAASvK,EAAEwJ,QAAF,EAAY9H,IAAZ,CAAiB,kBAAjB,CAAf;AACA,MAAI,CAAC6I,CH2CE1C,KG3CP,EAAa,IH2CNA,GG3Ca,KAAP;AACb0C,SAAOtK,IAAP,CAAY,UAACC,KAAD,EAAQoD,IAAR,EAAiB;AAC3B2G,sBAAkB3G,IAAlB;AACD,GAFD;AAGA,SAAOkG,QAAP;AACD,CARD;;AAUA,IAAMgB,gBAAgB,SAAhBA,aAAgB,GAAM;AAC1B,MAAMhB,WAAWxJ,EAAE,mBAAF,CAAjB;AACA,MAAI,CAACwJ,QAAL,EAAe,OAAO,KAAP;AACfxJ,IAAEwJ,QAAF,EAAYvJ,IAAZ,CAAiB,UAACC,KAAD,EAAQoD,IAAR,EAAiB;AAChCtD,MAAEsD,IAAF,EAAQjD,IAAR,CAAa,IAAb,gBAA+BH,KAA/B;AACA4J,wBAAoBxG,IAApB;AACAgH,uBAAmBhH,IAAnB;AACD,GAJD;AAKA,SAAOkG,QAAP;AACD,CATD;;kBAWegB","file":"index.map","sourceRoot":"../windowing/assets/scripts","sourcesContent":["const resetIframeHeight = () => {\n  const iframes = $('iframe');\n  if (!iframes) return false;\n  iframes.each((index, element) => {\n    const height = $(element).attr('height') || '';\n    const perHeight = height.match(/\\d+%$/);\n    if (!perHeight) { return; }\n    const per = parseInt(perHeight, 10);\n    const cssHeight = $(element).parent().height() * (per / 100);\n    $(element).css('height', `${cssHeight}px`);\n  });\n  return iframes;\n};\n\nconst supportIframeHeight = () => {\n  resetIframeHeight();\n  window.onresize = () => {\n    resetIframeHeight();\n  };\n};\n\nexport { resetIframeHeight, supportIframeHeight };\n","import { resetIframeHeight } from './supportIframeHeight';\n\nconst getMouseButton = (event) => {\n  if (!event || (event instanceof MouseEvent)) return false;\n  const isIE = (navigator.appName === 'Microsoft Internet Explorer');\n  let button = 'right';\n  switch (event.button) {\n    case 0:\n      button = 'left';\n      break;\n    case 1:\n      button = (isIE) ? 'left' : 'middle';\n      break;\n    case 4:\n      button = 'middle';\n      break;\n    default:\n      button = 'right';\n      break;\n  }\n  return button;\n};\n\nconst dragCardHeader = (card) => {\n  if (!card) return false;\n  const cardHeaderDrager = $(card).find('.header-drager')[0];\n  const cardHeader = $(card).find('.card-header')[0];\n  const cardBody = $(card).find('.card-body')[0];\n  if (!cardHeaderDrager || !cardHeader || !cardBody) return false;\n  const top = cardHeader.offsetTop;\n  return (event) => {\n    let height = event.clientY - top;\n    if (height < 50) {\n      height = 0;\n      $(cardHeader).css({ display: 'none' });\n    } else {\n      $(cardHeader).css({ display: '' });\n    }\n    $('body').css({ cursor: 'n-resize' });\n    $(cardHeader).css({ height: `${height}px` });\n    return card;\n  };\n};\n\n\nconst bindCardHeaderDrager = () => {\n  const cards = $('.card');\n  if (!cards) return false;\n  const curtain = $('<div>').addClass('curtain');\n  $(cards).each((index, card) => {\n    const cardHeaderDrager = $(card).find('.header-drager')[0];\n    if (!cardHeaderDrager) return;\n    const dragHandler = dragCardHeader(card);\n    $(cardHeaderDrager).on('mousedown', (event) => {\n      event.stopPropagation();\n      event.preventDefault();\n      if (getMouseButton(event) === 'left') {\n        $(document).on('mousemove', dragHandler);\n      }\n      $(curtain).insertBefore('#app');\n    });\n    $(document).on('mouseup', () => {\n      $('body').css({ cursor: 'default' });\n      $(document).off('mousemove', dragHandler);\n      resetIframeHeight();\n      $('.curtain').remove();\n    });\n  });\n  return cards;\n};\n\nconst dragCardLeft = (card) => {\n  if (!card) return false;\n  const cardLeftDrager = $(card).find('.left-drager')[0];\n  const cardHeader = $(card).find('.card-header')[0];\n  const cardBody = $(card).find('.card-body')[0];\n  const col = $(card).parents('.col')[0];\n  const container = $(col).parent()[0];\n  const brothers = $(container).children();\n  if (!cardLeftDrager || !cardHeader || !cardBody || !col || !container) return false;\n  return (event) => {\n    let totalGrow = 0;\n    brothers.each((index, item) => {\n      totalGrow += Number($(item).css('flex-grow'));\n    });\n    const left = col.offsetLeft;\n    const width = col.clientWidth;\n    const total = container.offsetWidth;\n    const per = width / total;\n    const grow = $(col).css('flex-grow');\n    const x = event.clientX - container.offsetLeft;\n    const goalWidth = (left + width) - x;\n    const goalPer = goalWidth / total;\n    const goalGrow = (goalPer / per) * grow;\n    $(col).css('flex-grow', goalGrow);\n    $('body').css({ cursor: 'e-resize' });\n    return card;\n  };\n};\n\nconst bindCardLeftDrager = () => {\n  const cards = $('.card');\n  if (!cards) return false;\n  const curtain = $('<div>').addClass('curtain');\n  $(cards).each((index, card) => {\n    const cardLeftDrager = $(card).find('.left-drager')[0];\n    if (!cardLeftDrager) return;\n    const dragHandler = dragCardLeft(card);\n    $(cardLeftDrager).on('mousedown', (event) => {\n      event.stopPropagation();\n      event.preventDefault();\n      if (getMouseButton(event) === 'left') {\n        $(document).on('mousemove', dragHandler);\n      }\n      $(curtain).insertBefore('#app');\n    });\n    $(document).on('mouseup', () => {\n      $('body').css({ cursor: 'default' });\n      $(document).off('mousemove', dragHandler);\n      resetIframeHeight();\n      $('.curtain').remove();\n    });\n  });\n  return cards;\n};\n\nconst bindDrager = () => {\n  bindCardHeaderDrager();\n  bindCardLeftDrager();\n};\n\nexport default bindDrager;\n","const indexedDB = window.indexedDB ||\n  window.mozIndexedDB ||\n  window.webkitIndexedDB ||\n  window.msIndexedDB;\nconst IDBTransaction = window.IDBTransaction ||\n  window.webkitIDBTransaction ||\n  window.msIDBTransaction;\nconst IDBKeyRange = window.IDBKeyRange ||\n  window.webkitIDBKeyRange ||\n  window.msIDBKeyRange;\nconst dbname = 'mydb';\nclass Store {\n  constructor(keyPath) { // {name: true, age: false, pathName: isUnique} 或 'name'\n    let keyHash = keyPath;\n    if (typeof keyPath === 'string') {\n      keyHash = { keyPath: false };\n    }\n    if (!(keyHash instanceof Object)) return false;\n    this.DBOpenRequest = Store.openDB(dbname, 2);\n    this.DBOpenRequest.onerror = () => {\n      console.log('你禁用了indexedDB!');\n    };\n    this.DBOpenRequest.onupgradeneeded = (event) => {\n      console.log('正在更新数据库...');\n      this.db = event.target.result;\n      const objectStore = this.db.createObjectStore(dbname, { keyPath: 'id', autoIncrement: true });\n      keyHash = Object.assign(keyHash, { date: false, id: true });\n      const keys = Object.keys(keyHash);\n      console.log(keys);\n      keys.forEach((key) => {\n        objectStore.createIndex(key, key, { unique: keyHash[key] });\n      });\n      this.db.onerror = () => {\n        console.log('数据库加载失败');\n      };\n    };\n    this.DBOpenRequest.onsuccess = () => {\n      this.db = this.DBOpenRequest.result;\n      this.add = (option) => {\n        if (typeof option !== 'object') return false;\n        const value = { date: new Date() };\n        Object.assign(value, option);\n        const objectStore = this.db.transaction(dbname, 'readwrite').objectStore(dbname);\n        const request = objectStore.add(value);\n        request.onsuccess = () => {\n          console.log('保存一条记录');\n          console.log(request.result);\n        };\n        request.onerror = (event) => {\n          console.error(event.target.error);\n        };\n        return objectStore;\n      };\n      this.put = (option) => {\n        if (typeof option !== 'object') return false;\n        const value = { date: new Date() };\n        Object.assign(value, option);\n        const objectStore = this.db.transaction(dbname, 'readwrite').objectStore(dbname);\n        const request = objectStore.put(value);\n        request.onsuccess = () => {\n          console.log('更新一条记录');\n          console.log(request.result);\n        };\n        request.onerror = (event) => {\n          console.error(event.target.error);\n        };\n        return objectStore;\n      };\n      this.get = (key) => {\n        const objectStore = this.db.transaction(dbname, 'readwrite').objectStore(dbname);\n        const request = objectStore.get(key);\n        request.onsuccess = () => {\n          console.log('取出一条记录');\n          console.log(request.result);\n        };\n        request.onerror = (event) => {\n          console.error(event.target.error);\n        };\n        return objectStore;\n      };\n      this.delete = (key) => {\n        const objectStore = this.db.transaction(dbname, 'readwrite').objectStore(dbname);\n        const request = objectStore.delete(key);\n        request.onsuccess = () => {\n          console.log('删除一条记录');\n          console.log(request.result);\n        };\n        request.onerror = (event) => {\n          console.error(event.target.error);\n        };\n        return objectStore;\n      };\n      this.getAll = () => {\n        const objectStore = this.db.transaction(dbname, 'readwrite').objectStore(dbname);\n        const request = objectStore.getAll();\n        request.onsuccess = () => {\n          console.log(request.result);\n        };\n        request.onerror = (event) => {\n          console.error(event.target.error);\n        };\n        return request;\n      };\n      this.upperBound = (max) => {\n        if (!max) return false;\n        const range = IDBKeyRange.upperBound(max);\n        const index = this.db.transaction(dbname).objectStore(dbname).index('id').openCursor(range);\n        index.onsuccess = (event) => {\n          const cursor = event.target.result;\n          if (cursor) {\n            console.log(cursor.value);\n            cursor.continue();\n          }\n        };\n        index.onerror = (event) => { console.log(event.target.result); };\n        return range;\n      };\n    };\n  }\n  static openDB(name, version) {\n    if ((typeof name !== 'string') || (typeof version !== 'number')) return false;\n    if (!indexedDB) return false;\n    const DBOpenRequest = indexedDB.open(name, parseInt(version, 10));\n    return DBOpenRequest;\n  }\n}\n\nconst visiteds = new Store({ url: true });\nvisiteds.saveVisited = (url) => {\n  if (!url || (typeof url !== 'string')) return false;\n  return visiteds.add({ url });\n};\n\nexport { visiteds };\n","\n/**\n * Expose `isUrl`.\n */\n\nmodule.exports = isUrl;\n\n/**\n * RegExps.\n * A URL must match #1 and then at least one of #2/#3.\n * Use two levels of REs to avoid REDOS.\n */\n\nvar protocolAndDomainRE = /^(?:\\w+:)?\\/\\/(\\S+)$/;\n\nvar localhostDomainRE = /^localhost[\\:?\\d]*(?:[^\\:?\\d]\\S*)?$/\nvar nonLocalhostDomainRE = /^[^\\s\\.]+\\.\\S{2,}$/;\n\n/**\n * Loosely validate a URL `string`.\n *\n * @param {String} string\n * @return {Boolean}\n */\n\nfunction isUrl(string){\n  if (typeof string !== 'string') {\n    return false;\n  }\n\n  var match = string.match(protocolAndDomainRE);\n  if (!match) {\n    return false;\n  }\n\n  var everythingAfterProtocol = match[1];\n  if (!everythingAfterProtocol) {\n    return false;\n  }\n\n  if (localhostDomainRE.test(everythingAfterProtocol) ||\n      nonLocalhostDomainRE.test(everythingAfterProtocol)) {\n    return true;\n  }\n\n  return false;\n}\n","import isUri from 'is-url';\n\nconst isAliveElement = element => (element && element.nodeType === 1 && $(element).parent('html'));\n\nconst isEnterKey = event => (event.keyCode === 13);\n\nconst validateURL = (url) => {\n  if (!isUri) throw new Error('isUri 未能成功加载');\n  return (isUri(url) ? url : undefined);\n};//\n\nconst formatURL = (url) => {\n  if ((!url) || (typeof url !== 'string')) return false;\n  const hasPrefix = url.match(/^http[s]?:[/]{2}/);\n  const format = (hasPrefix) ? url : (`http://${url}`);\n  return format;\n};\n\nexport { isAliveElement, isEnterKey, validateURL, formatURL };\n","import { visiteds } from './store';\nimport { isEnterKey, validateURL, formatURL } from './tool';\nimport { resetIframeHeight } from './supportIframeHeight';\n\nconst initIframe = (iframe) => {\n  if (!iframe || (iframe.tagName !== 'IFRAME')) return false;\n  const parent = $(iframe).parent()[0];\n  if (!parent) return false;\n  if ($(parent).attr('class').includes('iframe-holder')) {\n    $(parent).html(iframe);\n  }\n  $(iframe).removeClass('hide');\n  resetIframeHeight();\n  return iframe;\n};\n\nconst newPage = (option) => {\n  const loadingIcon = $('<i>').addClass('fa fa-spinner fa-pulse loading fa-2x');\n  const loading = $('<div>').addClass('absolute-center').append(loadingIcon); // 加载图标\n  const page = $('<iframe>')\n    .attr('src', (option.url || ''))\n    .attr('width', '100%')\n    .attr('height', '100%')\n    .addClass('page')\n    .addClass('hide');\n  const holder = $('<div>').addClass('iframe-holder');\n\n  holder.append(loading).append(page);\n  $(page).on('load', () => { initIframe(page[0]); });\n\n  return holder;\n};\n\nconst embeddedSumit = (submit) => {\n  if (!submit || ($(submit).attr('name') !== 'submit')) return false;\n  const embedded = $(submit).parents('.embedded-control')[0];\n  if (!embedded) return false;\n  const entrance = $(embedded).find('.entrance')[0];\n  if (!entrance) return false;\n  const inputGroup = $(submit).parents('.input-group')[0];\n  if (!inputGroup) return false;\n  const input = $(inputGroup).find('input[type=text]')[0];\n  if (!input) return false;\n  const val = $(input).val();\n  const url = validateURL(formatURL(val)) || `https://www.baidu.com/s?ie=UTF-8&wd=${val}`;\n  const page = newPage({ url });\n  visiteds.saveVisited(url);\n  $(entrance).html('').css({ padding: '0px' }).append(page);\n  return submit;\n};\n\nconst bindEmbeddedSubmits = (embedded) => {\n  if (!(embedded && $(embedded).hasClass('embedded-control'))) return false;\n  const submits = $(embedded).find('button[name=submit]');\n  if (!submits) return false; // 提交按钮\n  submits.each((index, item) => {\n    $(item).on('click', () => { embeddedSumit(item); });\n  });\n  return embedded;\n};\n\nconst bindEmbeddedInput = (input) => {\n  if (!input || ($(input).attr('type') !== 'text')) return false;\n  const inputGroup = $(input).parent('.input-group')[0];\n  if (!inputGroup) return false;\n  const submit = $(inputGroup).find('button[name=submit]');\n  if (!submit) return false;\n  $(input).on('keypress', (event) => {\n    if (isEnterKey(event)) { submit.click(); }\n  });\n  $(input).on('focus', () => {\n    const request = visiteds.getAll();\n    $(request).on('success', () => {\n      const urls = request.result;\n      if (!urls || !(urls instanceof Array)) return false;\n      const datalist = $('#urls');\n      datalist.html('');\n      urls.forEach((item) => {\n        const option = $('<option>').attr('value', item.url);\n        datalist.append(option);\n      });\n      return urls;\n    });\n  });\n  return input;\n};\n\nconst bindEmbeddedInputs = (embedded) => {\n  if (!(embedded && $(embedded).hasClass('embedded-control'))) return false;\n  const inputs = $(embedded).find('input[type=text]');\n  if (!inputs) return false;\n  inputs.each((index, item) => {\n    bindEmbeddedInput(item);\n  });\n  return embedded;\n};\n\nconst bindEmbeddeds = () => {\n  const embedded = $('.embedded-control');\n  if (!embedded) return false;\n  $(embedded).each((index, item) => {\n    $(item).attr('id', `embedded-${index}`);\n    bindEmbeddedSubmits(item);\n    bindEmbeddedInputs(item);\n  });\n  return embedded;\n};\n\nexport default bindEmbeddeds;\n","'use strict';\n\nimport { supportIframeHeight } from './supportIframeHeight';\nimport bindDrager from './drager';\nimport bindEmbeddeds from './embedded';\n\n$(document).ready(() => {\n  if (!document.querySelector) return false;\n  supportIframeHeight();\n  bindEmbeddeds();\n  bindDrager();\n  return true;\n});\n// drager.js 拖拽\n// embedded.js 主要控制\n// store.js 数据库indexedDB\n// supportIframeHeight 解决 iframe 的 height=\"100%\" 的问题\n// tool 一些计算结果的方法\n"]}