parcelRequire=function(e,r,n){var t="function"==typeof parcelRequire&&parcelRequire,i="function"==typeof require&&require;function u(n,o){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!o&&f)return f(n,!0);if(t)return t(n,!0);if(i&&"string"==typeof n)return i(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}a.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,a,l,l.exports)}return r[n].exports;function a(e){return u(a.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=t;for(var o=0;o<n.length;o++)u(n[o]);return u}({11:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){var e=$("iframe");return!!e&&(e.each(function(e,t){var r=($(t).attr("height")||"").match(/\d+%$/);if(r){var i=parseInt(r,10),n=$(t).parent().height()*(i/100);$(t).css("height",n+"px")}}),e)},t=function(){e(),window.onresize=function(){e()}};exports.resetIframeHeight=e,exports.supportIframeHeight=t;
},{}],12:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./supportIframeHeight"),r=function(e){if(!e||e instanceof MouseEvent)return!1;var r="Microsoft Internet Explorer"===navigator.appName,t="right";switch(e.button){case 0:t="left";break;case 1:t=r?"left":"middle";break;case 4:t="middle";break;default:t="right"}return t},t=function(e){if(!e)return!1;var r=$(e).find(".header-drager")[0],t=$(e).find(".card-header")[0],n=$(e).find(".card-body")[0];if(!r||!t||!n)return!1;var o=t.offsetTop;return function(r){var n=r.clientY-o;return n<50?(n=0,$(t).css({display:"none"})):$(t).css({display:""}),$("body").css({cursor:"n-resize"}),$(t).css({height:n+"px"}),e}},n=function(){var n=$(".card");if(!n)return!1;var o=$("<div>").addClass("curtain");return $(n).each(function(n,a){var i=$(a).find(".header-drager")[0];if(i){var u=t(a);$(i).on("mousedown",function(e){e.stopPropagation(),e.preventDefault(),"left"===r(e)&&$(document).on("mousemove",u),$(o).insertBefore("#app")}),$(document).on("mouseup",function(){$("body").css({cursor:"default"}),$(document).off("mousemove",u),(0,e.resetIframeHeight)(),$(".curtain").remove()})}}),n},o=function(){n()};exports.default=o;
},{"./supportIframeHeight":11}],17:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}();function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var t=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,r=window.IDBTransaction||window.webkitIDBTransaction||window.msIDBTransaction,c=window.IDBKeyRange||window.webkitIDBKeyRange||window.msIDBKeyRange,i="mydb",s=function(){function r(n){var t=this;o(this,r);var s=n;if("string"==typeof n&&(s={keyPath:!1}),!(s instanceof Object))return!1;this.DBOpenRequest=r.openDB(i,2),this.DBOpenRequest.onerror=function(){console.log("你禁用了indexedDB!")},this.DBOpenRequest.onupgradeneeded=function(e){console.log("正在更新数据库..."),t.db=e.target.result;var n=t.db.createObjectStore(i,{keyPath:"id",autoIncrement:!0});s=Object.assign(s,{date:!1,id:!0});var o=Object.keys(s);console.log(o),o.forEach(function(e){n.createIndex(e,e,{unique:s[e]})}),t.db.onerror=function(){console.log("数据库加载失败")}},this.DBOpenRequest.onsuccess=function(){t.db=t.DBOpenRequest.result,t.add=function(n){if("object"!==(void 0===n?"undefined":e(n)))return!1;var o={date:new Date};Object.assign(o,n);var r=t.db.transaction(i,"readwrite").objectStore(i),c=r.add(o);return c.onsuccess=function(){console.log("保存一条记录"),console.log(c.result)},c.onerror=function(e){console.error(e.target.error)},r},t.put=function(n){if("object"!==(void 0===n?"undefined":e(n)))return!1;var o={date:new Date};Object.assign(o,n);var r=t.db.transaction(i,"readwrite").objectStore(i),c=r.put(o);return c.onsuccess=function(){console.log("更新一条记录"),console.log(c.result)},c.onerror=function(e){console.error(e.target.error)},r},t.get=function(e){var n=t.db.transaction(i,"readwrite").objectStore(i),o=n.get(e);return o.onsuccess=function(){console.log("取出一条记录"),console.log(o.result)},o.onerror=function(e){console.error(e.target.error)},n},t.delete=function(e){var n=t.db.transaction(i,"readwrite").objectStore(i),o=n.delete(e);return o.onsuccess=function(){console.log("删除一条记录"),console.log(o.result)},o.onerror=function(e){console.error(e.target.error)},n},t.getAll=function(){var e=t.db.transaction(i,"readwrite").objectStore(i).getAll();return e.onsuccess=function(){console.log(e.result)},e.onerror=function(e){console.error(e.target.error)},e},t.upperBound=function(e){if(!e)return!1;var n=c.upperBound(e),o=t.db.transaction(i).objectStore(i).index("id").openCursor(n);return o.onsuccess=function(e){var n=e.target.result;n&&(console.log(n.value),n.continue())},o.onerror=function(e){console.log(e.target.result)},n}}}return n(r,null,[{key:"openDB",value:function(e,n){return"string"==typeof e&&"number"==typeof n&&(!!t&&t.open(e,parseInt(n,10)))}}]),r}(),u=new s({url:!0});u.saveVisited=function(e){return!(!e||"string"!=typeof e)&&u.add({url:e})},exports.visiteds=u;
},{}],21:[function(require,module,exports) {
module.exports=n;var t=/^(?:\w+:)?\/\/(\S+)$/,r=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/,e=/^[^\s\.]+\.\S{2,}$/;function n(n){if("string"!=typeof n)return!1;var o=n.match(t);if(!o)return!1;var s=o[1];return!!s&&!(!r.test(s)&&!e.test(s))}
},{}],18:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatURL=exports.validateURL=exports.isEnterKey=exports.isAliveElement=void 0;var e=require("is-url"),t=r(e);function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){return e&&1===e.nodeType&&$(e).parent("html")},n=function(e){return 13===e.keyCode},i=function(e){if(!t.default)throw new Error("isUri 未能成功加载");return(0,t.default)(e)?e:void 0},s=function(e){return!(!e||"string"!=typeof e)&&(e.match(/^http[s]?:[/]{2}/)?e:"http://"+e)};exports.isAliveElement=o,exports.isEnterKey=n,exports.validateURL=i,exports.formatURL=s;
},{"is-url":21}],13:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./store"),t=require("./tool"),r=require("./supportIframeHeight"),n=function(e){if(!e||"IFRAME"!==e.tagName)return!1;var t=$(e).parent()[0];return!!t&&($(t).attr("class").includes("iframe-holder")&&$(t).html(e),$(e).removeClass("hide"),(0,r.resetIframeHeight)(),e)},a=function(e){var t=$("<i>").addClass("fa fa-spinner fa-pulse loading fa-2x"),r=$("<div>").addClass("absolute-center").append(t),a=$("<iframe>").attr("src",e.url||"").attr("width","100%").attr("height","100%").addClass("page").addClass("hide"),i=$("<div>").addClass("iframe-holder");return i.append(r).append(a),$(a).on("load",function(){n(a[0])}),i},i=function(r){if(!r||"submit"!==$(r).attr("name"))return!1;var n=$(r).parents(".embedded-control")[0];if(!n)return!1;var i=$(n).find(".entrance")[0];if(!i)return!1;var u=$(r).parents(".input-group")[0];if(!u)return!1;var s=$(u).find("input[type=text]")[0];if(!s)return!1;var d=$(s).val(),o=(0,t.validateURL)((0,t.formatURL)(d))||"https://www.baidu.com/s?ie=UTF-8&wd="+d,f=a({url:o});return e.visiteds.saveVisited(o),$(i).html("").css({padding:"0px"}).append(f),r},u=function(e){if(!e||!$(e).hasClass("embedded-control"))return!1;var t=$(e).find("button[name=submit]");return!!t&&(t.each(function(e,t){$(t).on("click",function(){i(t)})}),e)},s=function(r){if(!r||"text"!==$(r).attr("type"))return!1;var n=$(r).parent(".input-group")[0];if(!n)return!1;var a=$(n).find("button[name=submit]");return!!a&&($(r).on("keypress",function(e){(0,t.isEnterKey)(e)&&a.click()}),$(r).on("focus",function(){var t=e.visiteds.getAll();$(t).on("success",function(){var e=t.result;if(!(e&&e instanceof Array))return!1;var r=$("#urls");return r.html(""),e.forEach(function(e){var t=$("<option>").attr("value",e.url);r.append(t)}),e})}),r)},d=function(e){if(!e||!$(e).hasClass("embedded-control"))return!1;var t=$(e).find("input[type=text]");return!!t&&(t.each(function(e,t){s(t)}),e)},o=function(){var e=$(".embedded-control");return!!e&&($(e).each(function(e,t){$(t).attr("id","embedded-"+e),u(t),d(t)}),e)};exports.default=o;
},{"./store":17,"./tool":18,"./supportIframeHeight":11}],8:[function(require,module,exports) {
"use strict";var e=require("./supportIframeHeight"),r=require("./drager"),u=a(r),t=require("./embedded"),d=a(t);function a(e){return e&&e.__esModule?e:{default:e}}$(document).ready(function(){return!!document.querySelector&&((0,e.supportIframeHeight)(),(0,d.default)(),(0,u.default)(),!0)});
},{"./supportIframeHeight":11,"./drager":12,"./embedded":13}]},{},[8])
//# sourceMappingURL=/scripts.1e6916b9.map