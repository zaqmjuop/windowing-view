{"version":3,"sources":["node_modules/is-url/index.js","assets/scripts/index.js"],"names":["window","i","newPage","option","loadingIcon","$","addClass","loading","append","page","attr","url","holder","replaceElement","oldElement","newElement","parent","parentElement","insertBefore","supportIframeHeight","resetIframeHeight","onresize","initIframe","iframe","children","each","index","element","tagName","removeChild","removeClass","height","perHeight","match","per","parseInt","css","formatURL","val","hasPrefix","validateURL","undefined","sendFeedback","validbool","feedback","nodeType","bool","Boolean","inputClass","feedbackClass","place","find","insertAfter","text","validFeedback","invalidFeedback","entranceSumit","entrance","hasClass","input","value","html","bindEntranceInput","on","event","keyCode","submit","bindEntranceSubmit","button","bindEntrance","document","ready","querySelector"],"mappings":"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","file":"scripts.809319d3.map","sourcesContent":["\n/**\n * Expose `isUrl`.\n */\n\nmodule.exports = isUrl;\n\n/**\n * RegExps.\n * A URL must match #1 and then at least one of #2/#3.\n * Use two levels of REs to avoid REDOS.\n */\n\nvar protocolAndDomainRE = /^(?:\\w+:)?\\/\\/(\\S+)$/;\n\nvar localhostDomainRE = /^localhost[\\:?\\d]*(?:[^\\:?\\d]\\S*)?$/\nvar nonLocalhostDomainRE = /^[^\\s\\.]+\\.\\S{2,}$/;\n\n/**\n * Loosely validate a URL `string`.\n *\n * @param {String} string\n * @return {Boolean}\n */\n\nfunction isUrl(string){\n  if (typeof string !== 'string') {\n    return false;\n  }\n\n  var match = string.match(protocolAndDomainRE);\n  if (!match) {\n    return false;\n  }\n\n  var everythingAfterProtocol = match[1];\n  if (!everythingAfterProtocol) {\n    return false;\n  }\n\n  if (localhostDomainRE.test(everythingAfterProtocol) ||\n      nonLocalhostDomainRE.test(everythingAfterProtocol)) {\n    return true;\n  }\n\n  return false;\n}\n","'use strict'\nimport isUri from \"is-url\"\n\nwindow.i = 0 //计数器\n\nconst newPage = (option) => {\n  let loadingIcon = $(\"<i></i>\").addClass(\"fa fa-spinner fa-pulse loading fa-2x\") \n  let loading = $(\"<div></div>\").addClass(\"absolute-center\").append(loadingIcon)//加载图标\n\n  let page = $(\"<iframe></iframe>\")\n    .attr(\"src\", (option.url || \"\"))\n    .attr(\"onload\", \"initIframe(this)\")\n    .attr(\"width\", \"100%\")\n    .attr(\"height\", \"100%\")\n    .addClass(\"page\")\n    .addClass(\"hide\")\n\n  let holder = $(\"<div></div>\").addClass(\"iframe-holder\")\n\n  holder.append(loading).append(page)\n\n  return holder\n}\n\nconst replaceElement = (oldElement, newElement) => {\n  if(!(oldElement && newElement)) {return false}\n  let parent = oldElement.parentElement\n  if(!parent) {return false}\n  $(newElement).insertBefore($(oldElement))\n}\n\nconst supportIframeHeight = () => {\n  resetIframeHeight()\n  window.onresize = ()=>{\n    resetIframeHeight()\n  }\n}\n\nwindow.initIframe = (iframe) => {\n  if(!iframe) return false\n  let parent = $(iframe).parent()[0]\n  $(parent).children().each((index, element)=>{\n    if (element.tagName != \"IFRAME\"){\n      parent.removeChild(element)\n    }\n  })\n  $(iframe).removeClass(\"hide\")\n  window.resetIframeHeight()\n}\n\n\nwindow.resetIframeHeight = () => {\n  $(\"iframe\").each((index, element) => {\n    if (!element) {return }\n    let height = $(element).attr(\"height\") || ''\n    let perHeight = height.match(/\\d+%$/)\n    if (!perHeight) {return }\n    let per = parseInt(perHeight)\n    height = $(element).parent().height() * per / 100\n    $(element).css(\"height\", height+\"px\")\n  })\n}\n\nconst formatURL = (val) => {\n  if ((!val) || (typeof val != \"string\") ) {return false}\n  let hasPrefix = val.match(/^http[s]?:[/]{2}/)\n  if(!hasPrefix){\n    val = \"http://\" + val\n  }\n  return val\n}\n\n\nconst validateURL = (val) => {\n  if (!isUri) throw \"isUri 未能成功加载\"\n  return (isUri(val) ? val : undefined)\n}\n\nconst sendFeedback = (element, validbool, feedback) => {\n  if ((!element) || (element.nodeType != 1)) {return false}\n  if ((!feedback) || (typeof feedback != \"string\")) {return false}\n  let bool = Boolean(validbool)\n  let inputClass = (bool) ? \"is-valid\" : \"is-invalid\"\n  let feedbackClass = (bool) ? \"valid-tooltip\" : \"invalid-tooltip\"\n  let place = $(element).parent().find(\".feedback\")[0]\n  if (!place) {\n    place = $(\"<div></div>\").addClass(\"feedback\").insertAfter(element)\n  }\n  $(element).removeClass(\"is-valid is-invalid\").addClass(inputClass)\n  $(place).text(feedback).removeClass(\"valid-tooltip invalid-tooltip\").addClass(feedbackClass)\n}\n\nconst validFeedback = (element, feedback) => {\n  sendFeedback(element, true, feedback)\n}\n\nconst invalidFeedback = (element, feedback) => {\n  sendFeedback(element, false, feedback)\n}\n\nconst entranceSumit = (entrance) => {\n  if (!(entrance && $(entrance).hasClass(\"entrance\"))) {return false}\n  let input = $(entrance).find(\"input[type=text]\")[0]\n  if ((!input)  || (!input.value)) {return false} \n  let val = $(input).val()\n  let url = validateURL(formatURL(val)) || (\"https://www.baidu.com/s?ie=UTF-8&wd=\" + val)\n  let page = newPage({url})\n  $(entrance).html(page)\n}\n\n\nconst bindEntranceInput = (entrance) => {\n  if (!(entrance && $(entrance).hasClass(\"entrance\"))) {return false}\n  let input = $(entrance).find(\"input[type=text]\")[0]\n  if (!input) {return }\n  $(input).on(\"keypress\", (event) => {\n    if (event.keyCode == 13) {\n      entrance.submit()\n    }\n  })\n}\n\n\nconst bindEntranceSubmit = (entrance) => {\n  if (!(entrance && $(entrance).hasClass(\"entrance\"))) {return false}\n  entrance.submit = () => {\n    entranceSumit(entrance)\n  }\n\n  let button = $(entrance).find(\"button\")[0]\n  if (!button) {return }\n  //提交按钮\n  $(button).on(\"click\", () => { entrance.submit() })\n}\n\n\n\nconst bindEntrance = () => {\n  $(\".entrance\").each((index, entrance)=>{\n    if(!entrance) {return }\n    window.i+=1\n    $(entrance).attr(\"id\", \"entrance-\"+window.i)\n    bindEntranceSubmit(entrance)\n    bindEntranceInput(entrance)\n  })  \n}\n\n\n$(document).ready(() => {\n  if (!document.querySelector) {return false}\n  supportIframeHeight()\n  bindEntrance()\n})\n\n//todo \n// 左右视窗比率调整\n// 移动端改为上下分屏\n// 输入框快捷方式\n// 前进后退 历史记录\n// 提供一个输入框随时修改网址\n// 把验证单独拿出来\n\n\n//加载iframe \n//先放一个加载中icon√。 body添加一个iframe display=none onload=\"show\" settimeout每秒检查一次状态 超过10秒不行就提示失败\n//因为同源问题 不能删除iframe内的a标签的target\n//解决方法\n//或者是server render\n//或者是jq ajax jsonp get (选择)"]}